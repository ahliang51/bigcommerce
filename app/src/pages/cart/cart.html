<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border color="primary">
  <ion-navbar padding>
    ITEMS ({{cartSize}})

    <div class="totalAmount">
      TOTAL : ${{totalAmount | number : '1.2'}}
    </div>
  </ion-navbar>

</ion-header>

<ion-content padding>

  <!-- Show when there are no products in the cart  -->
  <div *ngIf="cartArray?.length < 1">
    There are no items in the cart
  </div>

  <ion-list>
    <ion-item *ngFor="let item of cartArray; let i = index">
      <ion-thumbnail item-start>
        <!-- Display the first image of the product  -->
        <img src={{item.image_url}}>
      </ion-thumbnail>
      <h2>
        {{item.name}}
      </h2>
      <p class="productDetails">Quantity : {{item.quantity}}</p>
      <p>S$ {{item.sale_price | number : '1.2'}}</p>

      <button ion-button outline (click)="onRemove(i)">
        <ion-icon class="fa fa-times"></ion-icon>
        Remove
      </button>

      <button ion-button outline (click)="onEdit(i)">
        <ion-icon class="fa fa-edit"></ion-icon>
        Edit
      </button>


    </ion-item>
  </ion-list>
  <!-- Total Amount -->
  <div *ngIf="cartArray.length > 0">
    <div float-left>
      Total Payable
    </div>
    <div float-right>
      S$ {{totalAmount | number : '1.2'}}
    </div>
  </div>


  <!-- Only show when there is product in the cart  -->
  <div text-center *ngIf="cartArray?.length > 0">
    <button ion-button block margin-top (click)="checkOut()">PLACE ORDER</button>
  </div>

</ion-content>
